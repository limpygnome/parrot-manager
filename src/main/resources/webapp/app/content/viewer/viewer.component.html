<div class="viewer">

    <div class="sidebar" id="sidebar">
    </div>

    <div class="editor">

        <!-- Home/unselected node page -->
        <div class="home" *ngIf="currentNode == null">
            <h1>
                {{ databaseService.getFileName() }}
            </h1>
            <p>
                Select a node to begin editing.
            </p>
        </div>

        <!-- Page to edit a node -->
        <div class="view" *ngIf="currentNode != null">

            <h1>
                {{ currentNode.getName() != null ? currentNode.getName() : "(unnamed)" }}
            </h1>

            <p title="currentNode.getFormattedLastModified()">
                Last modified: {{ currentNode.getFormattedLastModified() }}
            </p>

            <!-- Add entry -->
            <h2>
                Add Entry
            </h2>

            <form [formGroup]="addEntryForm" (ngSubmit)="addEntry($event)" #form="ngForm">
                <div class="form-group">
                    <label class="form-control-label" for="name">
                        Name
                    </label>

                    <input id="name"
                           formControlName="name"
                           type="text"
                           class="form-control"
                           placeholder="The name of the entry"
                           minlength="3" maxlength="128"
                    />
                </div>
                <div class="form-group">
                    <label class="form-control-label" for="name">
                        Value
                    </label>

                    <div class="input-group">
                        <textarea id="value"
                                  formControlName="value"
                                  class="form-control"
                                  placeholder="The secret value to be stored (this input is not masked)"
                                  rows="2"
                        ></textarea>
                        <span class="input-group-btn">
                            <button class="btn btn-default form-control" type="button" (click)="openSaveFileDialogue()">
                                Switch to Masked
                            </button>
                        </span>
                    </div>

                </div>
                <button type="submit" class="btn btn-primary">
                    Add
                </button>
            </form>

            <!-- List entries -->
            <h2>
                Entries
            </h2>

            <p>
                Click a value to reveal.
            </p>

            <table class="table">
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        Value
                    </th>
                    <th>
                        Options
                    </th>
                </tr>

                <tr>
                    <td colspan="3">
                        None
                    </td>
                </tr>

            </table>

        </div>

    </div>

</div>
